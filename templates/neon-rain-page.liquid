{% comment %}
  Neon Rain Page Template for Dirtylolli Shopify Theme
  Converted from React structure to Liquid/HTML
  Includes chapter-based navigation with progressive unlocking
{% endcomment %}

<!-- Chapter Navigation -->
{% render 'neon-rain-navigation' %}

<main class="relative w-full min-h-screen overflow-x-hidden bg-noir text-white font-body">
  <!-- Rain Overlay Effect -->
  <div class="fixed inset-0 pointer-events-none z-10">
    <div class="relative w-full h-full">
      <div class="absolute top-0 w-0.5 h-24 bg-gradient-to-b from-transparent via-accent to-primary animate-rain" style="left: 10%; animation-delay: 0s;"></div>
      <div class="absolute top-0 w-0.5 h-24 bg-gradient-to-b from-transparent via-accent to-primary animate-rain" style="left: 20%; animation-delay: 0.5s;"></div>
      <div class="absolute top-0 w-0.5 h-24 bg-gradient-to-b from-transparent via-accent to-primary animate-rain" style="left: 30%; animation-delay: 1s;"></div>
      <div class="absolute top-0 w-0.5 h-24 bg-gradient-to-b from-transparent via-accent to-primary animate-rain" style="left: 40%; animation-delay: 1.5s;"></div>
      <div class="absolute top-0 w-0.5 h-24 bg-gradient-to-b from-transparent via-accent to-primary animate-rain" style="left: 50%; animation-delay: 2s;"></div>
      <div class="absolute top-0 w-0.5 h-24 bg-gradient-to-b from-transparent via-accent to-primary animate-rain" style="left: 60%; animation-delay: 2.5s;"></div>
      <div class="absolute top-0 w-0.5 h-24 bg-gradient-to-b from-transparent via-accent to-primary animate-rain" style="left: 70%; animation-delay: 3s;"></div>
      <div class="absolute top-0 w-0.5 h-24 bg-gradient-to-b from-transparent via-accent to-primary animate-rain" style="left: 80%; animation-delay: 3.5s;"></div>
      <div class="absolute top-0 w-0.5 h-24 bg-gradient-to-b from-transparent via-accent to-primary animate-rain" style="left: 90%; animation-delay: 4s;"></div>
    </div>
  </div>

  <!-- Scene Scroll Wrapper -->
  <div class="relative z-20">
    <!-- Chapter 1 -->
    <section id="chapter-1" class="min-h-screen flex items-center justify-center p-8 relative border-b border-accent/30" data-chapter="1">
      <div class="text-center max-w-4xl relative">
        <h2 class="text-5xl md:text-6xl font-headline mb-8 bg-gradient-to-r from-accent via-primary to-neon bg-clip-text text-transparent animate-pulse">Chapter 1: The Awakening</h2>
        <div class="text-lg md:text-xl text-gray-300 mb-8 leading-relaxed">
          <p>In the neon-lit streets of the future, where rain falls in digital streams and reality bends at the edges...</p>
        </div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-48 rounded-full bg-gradient-to-r from-accent/20 to-primary/20 animate-pulse pointer-events-none"></div>
      </div>
    </section>

    <!-- Chapter 2 -->
    <section id="chapter-2" class="min-h-screen flex items-center justify-center p-8 relative border-b border-accent/30" data-chapter="2">
      <div class="text-center max-w-4xl relative">
        <h2 class="text-5xl md:text-6xl font-headline mb-8 bg-gradient-to-r from-primary via-neon to-accent bg-clip-text text-transparent animate-pulse">Chapter 2: Digital Dreams</h2>
        <div class="text-lg md:text-xl text-gray-300 mb-8 leading-relaxed">
          <p>Where pixels dance with purpose and every drop of rain carries a message from the beyond...</p>
        </div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-48 rounded-full bg-gradient-to-r from-primary/20 to-neon/20 animate-pulse pointer-events-none"></div>
      </div>
    </section>

    <!-- Chapter 3 -->
    <section id="chapter-3" class="min-h-screen flex items-center justify-center p-8 relative border-b border-accent/30" data-chapter="3">
      <div class="text-center max-w-4xl relative">
        <h2 class="text-5xl md:text-6xl font-headline mb-8 bg-gradient-to-r from-neon via-accent to-primary bg-clip-text text-transparent animate-pulse">Chapter 3: Electric Souls</h2>
        <div class="text-lg md:text-xl text-gray-300 mb-8 leading-relaxed">
          <p>In this cyberpunk symphony, where neon signs pulse with the heartbeat of the city...</p>
        </div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-48 rounded-full bg-gradient-to-r from-neon/20 to-accent/20 animate-pulse pointer-events-none"></div>
      </div>
    </section>

    <!-- Chapter 4 - Locked -->
    <section id="chapter-4" class="min-h-screen flex items-center justify-center p-8 relative border-b border-accent/30 locked-chapter" data-chapter="4">
      <div class="text-center max-w-4xl relative">
        <div class="mb-8">
          <svg class="w-16 h-16 mx-auto text-muted mb-4" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
          </svg>
          <h2 class="text-5xl md:text-6xl font-headline mb-4 text-muted">Chapter 4: Neon Reflections</h2>
          <div class="text-2xl md:text-3xl font-headline text-accent mb-4">Coming Soon</div>
          <div class="text-lg md:text-xl text-gray-400 mb-8 leading-relaxed">
            <p>This chapter is currently locked. Complete the previous chapters to unlock this content.</p>
          </div>
          <div class="bg-gradient-to-r from-accent/20 to-primary/20 border border-accent/30 rounded-lg p-4 max-w-md mx-auto">
            <p class="text-sm text-gray-300">Subscribe to be notified when new chapters are released!</p>
          </div>
        </div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-48 rounded-full bg-gradient-to-r from-muted/20 to-muted/10 animate-pulse pointer-events-none"></div>
      </div>
    </section>

    <!-- Chapter 5 - Locked -->
    <section id="chapter-5" class="min-h-screen flex items-center justify-center p-8 relative border-b border-accent/30 locked-chapter" data-chapter="5">
      <div class="text-center max-w-4xl relative">
        <div class="mb-8">
          <svg class="w-16 h-16 mx-auto text-muted mb-4" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
          </svg>
          <h2 class="text-5xl md:text-6xl font-headline mb-4 text-muted">Chapter 5: The Convergence</h2>
          <div class="text-2xl md:text-3xl font-headline text-primary mb-4">Coming Soon</div>
          <div class="text-lg md:text-xl text-gray-400 mb-8 leading-relaxed">
            <p>This chapter is currently locked. Complete the previous chapters to unlock this content.</p>
          </div>
          <div class="bg-gradient-to-r from-primary/20 to-neon/20 border border-primary/30 rounded-lg p-4 max-w-md mx-auto">
            <p class="text-sm text-gray-300">Subscribe to be notified when new chapters are released!</p>
          </div>
        </div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-48 rounded-full bg-gradient-to-r from-muted/20 to-muted/10 animate-pulse pointer-events-none"></div>
      </div>
    </section>

    <!-- Chapter 6 - Locked -->
    <section id="chapter-6" class="min-h-screen flex items-center justify-center p-8 relative border-b border-accent/30 locked-chapter" data-chapter="6">
      <div class="text-center max-w-4xl relative">
        <div class="mb-8">
          <svg class="w-16 h-16 mx-auto text-muted mb-4" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
          </svg>
          <h2 class="text-5xl md:text-6xl font-headline mb-4 text-muted">Chapter 6: Beyond the Rain</h2>
          <div class="text-2xl md:text-3xl font-headline text-neon mb-4">Coming Soon</div>
          <div class="text-lg md:text-xl text-gray-400 mb-8 leading-relaxed">
            <p>This chapter is currently locked. Complete the previous chapters to unlock this content.</p>
          </div>
          <div class="bg-gradient-to-r from-neon/20 to-accent/20 border border-neon/30 rounded-lg p-4 max-w-md mx-auto">
            <p class="text-sm text-gray-300">Subscribe to be notified when new chapters are released!</p>
          </div>
        </div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-48 h-48 rounded-full bg-gradient-to-r from-muted/20 to-muted/10 animate-pulse pointer-events-none"></div>
      </div>
    </section>
  </div>
</main>

<!-- Custom styles for enhanced effects -->
<style>
  /* Glitch effect for headings */
  .glitch-text {
    position: relative;
  }
  
  .glitch-text::before,
  .glitch-text::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
  
  .glitch-text::before {
    animation: glitch 1s infinite;
    color: #FF0080;
    z-index: -1;
  }
  
  .glitch-text::after {
    animation: glitch 1s infinite reverse;
    color: #00F0FF;
    z-index: -2;
  }
  
  /* Enhanced rain animation */
  @keyframes rainDrop {
    0% {
      transform: translateY(-100vh);
      opacity: 0;
    }
    10% {
      opacity: 0.8;
    }
    90% {
      opacity: 0.8;
    }
    100% {
      transform: translateY(100vh);
      opacity: 0;
    }
  }
  
  /* Neon glow effect */
  .neon-glow {
    text-shadow: 
      0 0 5px currentColor,
      0 0 10px currentColor,
      0 0 15px currentColor,
      0 0 20px currentColor;
  }
  
  /* Cyberpunk grid background */
  .cyber-grid {
    background-image: 
      linear-gradient(rgba(0, 240, 255, 0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0, 240, 255, 0.1) 1px, transparent 1px);
    background-size: 50px 50px;
  }
</style>

<script>
  // Enhanced Neon Rain page interactions
  document.addEventListener('DOMContentLoaded', function() {
    const chapters = document.querySelectorAll('section[data-chapter]');
    
    // Intersection Observer for scroll animations
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('opacity-100', 'transform', 'translate-y-0');
          entry.target.classList.remove('opacity-0', 'translate-y-8');
        }
      });
    }, { 
      threshold: 0.3,
      rootMargin: '0px 0px -100px 0px'
    });
    
    // Initialize chapters with fade-in effect
    chapters.forEach((chapter, index) => {
      chapter.classList.add('opacity-0', 'translate-y-8', 'transition-all', 'duration-1000');
      chapter.style.transitionDelay = `${index * 200}ms`;
      observer.observe(chapter);
    });
    
    // Add glitch effect to headings on hover
    const headings = document.querySelectorAll('h2');
    headings.forEach(heading => {
      heading.addEventListener('mouseenter', function() {
        this.classList.add('animate-glitch');
      });
      
      heading.addEventListener('mouseleave', function() {
        this.classList.remove('animate-glitch');
      });
    });
    
    // Parallax effect for rain drops
    window.addEventListener('scroll', function() {
      const scrolled = window.pageYOffset;
      const rainDrops = document.querySelectorAll('.animate-rain');
      
      rainDrops.forEach((drop, index) => {
        const speed = 0.5 + (index * 0.1);
        drop.style.transform = `translateY(${scrolled * speed}px)`;
      });
    });
  });
</script>
